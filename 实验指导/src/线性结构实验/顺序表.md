# é¡ºåºè¡¨å®éªŒ

## 1.å®ç°ç”¨äºæ¨¡æ‹Ÿ std::vector ç±»çš„ simVector

æ–°å»ºå¤´æ–‡ä»¶ simVector.hï¼Œå¹¶è¾“å…¥ä»¥ä¸‹ä»£ç ã€‚

```c++{class="line-numbers"}
#ifndef simVector_h
#define simVector_h

template <class T>
class simVector{
private:
    int m_size;     //æ ‡è®°å½“å‰æ•°æ®å…ƒç´ ä¸ªæ•°
    int m_capacity; //æ ‡è®°å½“å‰å®¹å™¨å®¹é‡
    T *m_data;      //ç”¨äºå­˜å‚¨æ•°æ®å…ƒç´ çš„æ•°ç»„
    
public:
    simVector(int n=4);
    ~simVector();
    
    int size();                 //è·å–å½“å‰å…ƒç´ ä¸ªæ•°
    int capacity();             //è·å–å½“å‰å®¹å™¨å®¹é‡
    T& operator[](int id);           //è·å–ä½äºidä½ç½®çš„å…ƒç´ 
    void reserve(int newCapacity);   //æ‰©å®¹
    void insert(int index, T data);  //åœ¨indexä½ç½®æ’å…¥data
    void erase(int index);           //åˆ é™¤indexä½ç½®çš„å…ƒç´ 
    void push_back(T data);          //åœ¨è¡¨å°¾æ’å…¥æ•°æ®
};

template <class T>
simVector<T>::simVector(int n) {
    m_size = 0;
    m_capacity = n;
    m_data = new T[m_capacity];
}

template <class T>
simVector<T>::~simVector() {
    delete[] m_data;
}

#endif /* simVector_h */
```

åœ¨ main.cpp æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹ä»£ç 

```c++{class="line-numbers"}
#include <iostream>
#include "simVector.h"
using namespace std;
int main(){
    simVector<int> a;
    cout<<"æµ‹è¯•simVector:"<<endl;
    return 0;
}
```

æ£€æŸ¥ç¨‹åºæ˜¯å¦èƒ½å¤Ÿæ­£ç¡®ç¼–è¯‘è¿è¡Œã€‚
ğŸ¥³å¦‚æœèƒ½å¤Ÿæ­£ç¡®è¿è¡Œï¼Œå¯ä»¥ç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

åœ¨ simVector.h æ–‡ä»¶çš„ä¸‹æ–¹ï¼ˆ#endif ä¹‹å‰ï¼‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
int simVector<T>::size(){
    return m_size;
}

template <class T>
int simVector<T>::capacity(){
    return m_capacity;
}
```

> **æ³¨æ„ï¼š** åœ¨.hæ–‡ä»¶ä¸­æ·»åŠ çš„æ‰€æœ‰ä»£ç éƒ½åº”è¯¥åœ¨ #endif è¯­å¥ä¹‹å‰ï¼Œå³ #endif å¿…é¡»æ˜¯å¤´æ–‡ä»¶çš„æœ€åä¸€è¡Œã€‚

ä¿®æ”¹ main.cpp æ–‡ä»¶ï¼š

```c++{class="line-numbers"}
#include <iostream>
#include "simVector.h"
using namespace std;
int main(){
    simVector<int> a;
    cout<<"æµ‹è¯•simVector:"<<endl;
    cout<<"å…ƒç´ ä¸ªæ•°:"<<a.size()<<endl;
    cout<<"å®¹é‡:"<<a.capacity()<<endl;
    return 0;
}
```

ç¼–è¯‘è¿è¡Œååº”è¯¥èƒ½æ‰“å°å‡ºï¼š

>æµ‹è¯•simVector:
å…ƒç´ ä¸ªæ•°:0
å®¹é‡:4

ğŸ¥³å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

åœ¨ simVector.h æ–‡ä»¶çš„ä¸‹æ–¹ï¼ˆ#endif ä¹‹å‰ï¼‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
void simVector<T>::insert(int index, T data) {
    m_size++;
    for(int i=m_size-1; i> index; i--){
        m_data[i] = m_data[i-1];
    }
    m_data[index] = data;
}
```

ä¿®æ”¹ main.cpp æ–‡ä»¶ï¼š

```c++{class="line-numbers"}
#include <iostream>
#include "simVector.h"
using namespace std;
int main(){
    simVector<int> a;
    cout<<"æµ‹è¯•simVector:"<<endl;

    a.insert(0, 1);
    a.insert(1, 2);

    cout<<"å…ƒç´ ä¸ªæ•°:"<<a.size()<<endl;
    cout<<"å®¹é‡:"<<a.capacity()<<endl;
    return 0;
}
```

ç¼–è¯‘å¹¶è¿è¡Œç¨‹åºï¼Œåº”å¾—åˆ°ä»¥ä¸‹è¾“å‡ºï¼š

>æµ‹è¯•simVector:
å…ƒç´ ä¸ªæ•°:2
å®¹é‡:4

ğŸ¥³å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

åœ¨ simVector.h æ–‡ä»¶çš„ä¸‹æ–¹ï¼ˆ#endif ä¹‹å‰ï¼‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template<class T>
T& simVector<T>::operator[](int id){
    return m_data[id];
}
```

ä¿®æ”¹ main.cpp æ–‡ä»¶ï¼š

```c++{class="line-numbers"}
#include <iostream>
#include "simVector.h"
using namespace std;
int main(){
    simVector<int> a;
    cout<<"æµ‹è¯•simVector:"<<endl;

    a.insert(0, 1);
    a.insert(1, 2);

    cout<<"å…ƒç´ ä¸ªæ•°:"<<a.size()<<endl;
    cout<<"å®¹é‡:"<<a.capacity()<<endl;

    cout<<"è¡¨ä¸­çš„å…ƒç´ ä¸ºï¼š";
    for(int i=0; i<a.size(); ++i){
        cout<<a[i]<<" ";
    }
    cout<<endl;
    return 0;
}
```

ç¼–è¯‘å¹¶è¿è¡Œç¨‹åºï¼Œåº”å¾—åˆ°ä»¥ä¸‹è¾“å‡ºï¼š
>æµ‹è¯•simVector:
å…ƒç´ ä¸ªæ•°:2
å®¹é‡:4
è¡¨ä¸­çš„å…ƒç´ ä¸ºï¼š1 2

ğŸ¥³å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

ä¿®æ”¹ simVector.h æ–‡ä»¶ä¸­çš„ insert å‡½æ•°ï¼š

```c++{class="line-numbers"}
template <class T>
void simVector<T>::insert(int index, T data) {
    if(m_size == m_capacity){
        reserve(m_capacity*2);
    }
    m_size++;
    for(int i=m_size-1; i> index; i--){
        m_data[i] = m_data[i-1];
    }
    m_data[index] = data;
}
```

åœ¨ simVector.h æ–‡ä»¶çš„ä¸‹æ–¹ï¼ˆ#endif ä¹‹å‰ï¼‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
void simVector<T>::reserve(int newCapacity) {
    T* old = m_data;
    m_data = new T[newCapacity];
    for (int i=0; i<m_size; ++i) {
        m_data[i] = old[i];
    }
    m_capacity = newCapacity;
    delete [] old;
}
```

ä¿®æ”¹ main.cpp æ–‡ä»¶ï¼š

```c++{class="line-numbers"}
#include <iostream>
#include "simVector.h"
using namespace std;
int main(){
    simVector<int> a;
    cout<<"æµ‹è¯•simVector:"<<endl;

    a.insert(0, 1);
    a.insert(1, 2);
    a.insert(0, 3);
    a.insert(0, 4);
    a.insert(0, 5);

    cout<<"å…ƒç´ ä¸ªæ•°:"<<a.size()<<endl;
    cout<<"å®¹é‡:"<<a.capacity()<<endl;

    cout<<"è¡¨ä¸­çš„å…ƒç´ ä¸ºï¼š";
    for(int i=0; i<a.size(); ++i){
        cout<<a[i]<<" ";
    }
    cout<<endl;
    return 0;
}
```

ç¼–è¯‘å¹¶è¿è¡Œç¨‹åºï¼Œåº”å¾—åˆ°ä»¥ä¸‹è¾“å‡ºï¼š
>æµ‹è¯•simVector:
å…ƒç´ ä¸ªæ•°:5
å®¹é‡:8
è¡¨ä¸­çš„å…ƒç´ ä¸ºï¼š5 4 3 1 2

ğŸ¥³å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

åœ¨ simVector.h æ–‡ä»¶çš„ä¸‹æ–¹ï¼ˆ#endif ä¹‹å‰ï¼‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
void simVector<T>::erase(int index){
    for(int i=index; i<m_size-1; ++i){
        m_data[i] = m_data[i+1];
    }
    m_size--;
}
```

ä¿®æ”¹ main.cpp æ–‡ä»¶ï¼š

```c++{class="line-numbers"}
#include <iostream>
#include "simVector.h"
using namespace std;
int main(){
    simVector<int> a;
    cout<<"æµ‹è¯•simVector:"<<endl;

    a.insert(0, 1);
    a.insert(1, 2);
    a.insert(0, 3);
    a.insert(0, 4);
    a.insert(0, 5);

    a.erase(2);

    cout<<"å…ƒç´ ä¸ªæ•°:"<<a.size()<<endl;
    cout<<"å®¹é‡:"<<a.capacity()<<endl;

    cout<<"è¡¨ä¸­çš„å…ƒç´ ä¸ºï¼š";
    for(int i=0; i<a.size(); ++i){
        cout<<a[i]<<" ";
    }
    cout<<endl;
    return 0;
}
```

ç¼–è¯‘å¹¶è¿è¡Œç¨‹åºï¼Œåº”å¾—åˆ°ä»¥ä¸‹è¾“å‡ºï¼š
>æµ‹è¯•simVector:
å…ƒç´ ä¸ªæ•°:4
å®¹é‡:8
è¡¨ä¸­çš„å…ƒç´ ä¸ºï¼š5 4 1 2

ğŸ¥³å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

åœ¨ simVector.h æ–‡ä»¶çš„ä¸‹æ–¹ï¼ˆ#endif ä¹‹å‰ï¼‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template<class T>
void simVector<T>::push_back(T data){
    insert(m_size, data);
}
```

ä¿®æ”¹ main.cpp æ–‡ä»¶ï¼š

```c++{class="line-numbers"}
#include <iostream>
#include "simVector.h"
using namespace std;
int main(){
    simVector<int> a;
    cout<<"æµ‹è¯•simVector:"<<endl;

    a.insert(0, 1);
    a.insert(1, 2);
    a.insert(0, 3);
    a.insert(0, 4);
    a.insert(0, 5);

    a.erase(2);

    a.push_back(10);

    cout<<"å…ƒç´ ä¸ªæ•°:"<<a.size()<<endl;
    cout<<"å®¹é‡:"<<a.capacity()<<endl;

    cout<<"è¡¨ä¸­çš„å…ƒç´ ä¸ºï¼š";
    for(int i=0; i<a.size(); ++i){
        cout<<a[i]<<" ";
    }
    cout<<endl;
    return 0;
}
```

ç¼–è¯‘å¹¶è¿è¡Œç¨‹åºï¼Œåº”å¾—åˆ°ä»¥ä¸‹è¾“å‡ºï¼š
>æµ‹è¯•simVector:
å…ƒç´ ä¸ªæ•°:5
å®¹é‡:8
è¡¨ä¸­çš„å…ƒç´ ä¸ºï¼š5 4 1 2 10

è‡³æ­¤ï¼ŒsimVectorçš„å®ç°å…¨éƒ¨å®Œæˆï¼
ğŸ¥³ğŸ‰

## 2.simVectorçš„ä½¿ç”¨æŒ‘æˆ˜

### 2.1 ä»æ–‡ä»¶ä¸­è¯»å…¥æ•°æ®åˆ° simVector

å°†æ–‡ä»¶ sequential_list_exp.txt ä¸­çš„æ•°æ®è¯»å…¥ä¸€ä¸ª simVector\<string\> ä¸­ã€‚

sequential_list_exp.txt æ–‡ä»¶çš„ç¬¬ä¸€è¡Œä¸ºå…ƒç´ ä¸ªæ•°ï¼Œä¹‹åçš„æ¯ä¸€è¡Œéƒ½ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å…ƒç´ ï¼Œå…±20000ä¸ªå…ƒç´ ã€‚
sequential_list_exp.txt çš„å‰å‡ è¡Œå¦‚ä¸‹ï¼š

```{class="line-numbers"}
20000
wkoIqIEA
avHUcm
Cexi
QDtA
GHAaWOvL
â€¦â€¦
```

### 2.2 æ•°æ®æ“ä½œ

è¯»å…¥æ•°æ®åï¼Œå®Œæˆä»¥ä¸‹æ“ä½œï¼š

* è¾“å‡ºé¡ºåºè¡¨ä¸­å…ƒç´ ä¸ªæ•°ï¼›
* è¾“å‡ºé¡ºåºè¡¨çš„å®¹é‡ï¼›
* è¾“å‡ºé¡ºåºè¡¨ä»ç¬¬2022ä½å¼€å§‹çš„10ä¸ªå…ƒç´ ï¼›
* åˆ é™¤é¡ºåºè¡¨ä»ç¬¬2012ä½å¼€å§‹çš„5ä¸ªå…ƒç´ ï¼›
* å°†è‡ªå·±çš„åå­—æ’å…¥è‡³2024ä½ï¼›
* å†æ¬¡è¾“å‡ºé¡ºåºè¡¨ä»ç¬¬2022ä½å¼€å§‹çš„åä¸ªå…ƒç´ ã€‚

å‚è€ƒè¾“å‡ºï¼š
>å…ƒç´ ä¸ªæ•°ï¼š20000
å®¹é‡ï¼š32768
ä»ç¬¬2022ä½å¼€å§‹çš„10ä¸ªå…ƒç´ ï¼š
ju nvQfYChywU DX QqMWICdsMs gGiQte VROcTz II UUuIaooax IUk qPwfD 
å†æ¬¡ä»ç¬¬2022ä½å¼€å§‹çš„10ä¸ªå…ƒç´ ï¼š
VROcTz II å¼ ä¸‰ UUuIaooax IUk qPwfD GZvhWZJQ ttZxWHFlhm htxJcUN YcqXP
