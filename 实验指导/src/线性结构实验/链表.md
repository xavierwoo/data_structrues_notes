# é“¾è¡¨å®éªŒ

## 1 å®ç°å•é“¾è¡¨èŠ‚ç‚¹ç±»

æœ¬å°èŠ‚å®éªŒå¯ä»¥å…¨éƒ¨å†™åœ¨ main.cpp ä¸­ã€‚

é“¾è¡¨èŠ‚ç‚¹ç±»ä»£ç å¦‚ä¸‹ï¼š

```c++{class="line-numbers"}
template<class T>
struct link_node{
    T data;
    link_node* next;
    link_node(T d, link_node* n):data(d), next(n){}
};
```

æ³¨æ„èŠ‚ç‚¹ç±»çš„ä»£ç åº”è¯¥åœ¨æ‰€æœ‰å‡½æ•°çš„ä¸Šæ–¹ã€‚

### æ–°å»ºå•é“¾è¡¨

ç¼–è¾‘ main å‡½æ•°ï¼š

```c++{class="line-numbers"}
int main() {
    cout<<"å•é“¾è¡¨å®éªŒ"<<endl;
    auto head = new link_node<int>(0, nullptr);
    return 0;
}
```

ç¼–è¯‘è¿è¡Œã€‚
ğŸ¥³å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

### æ’å…¥å…ƒç´ 

åœ¨ main å‡½æ•°å‰æ·»åŠ å‡½æ•°ï¼š

```c++{class="line-numbers"}
template<class T>
link_node<T>* insert_after(link_node<T>* node, T data){
    auto new_node = new link_node<T>(data, nullptr);
    new_node->next = node->next;
    node->next = new_node;
    return new_node;
}
```

è¯¥å‡½æ•°åœ¨ node èŠ‚ç‚¹åæ’å…¥æ•°æ®å…ƒç´  dataã€‚

ä¿®æ”¹ main å‡½æ•°

```c++{class="line-numbers"}
int main() {
    cout<<"å•é“¾è¡¨å®éªŒ"<<endl;
    auto head = new link_node<int>(0, nullptr);
    auto p1 = insert_after(head, 1);
    cout<<"p1 æ‰€æŒ‡å‘çš„å…ƒç´ ä¸ºï¼š"<<p1->data<<endl;
    return 0;
}
```

ç¼–è¯‘è¿è¡Œï¼Œåº”èƒ½å¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š
>å•é“¾è¡¨å®éªŒ
p1 æ‰€æŒ‡å‘çš„å…ƒç´ ä¸ºï¼š1

ğŸ¥³å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

æ·»åŠ å‡½æ•°ï¼š

```c++{class="line-numbers"}
template<class T>
void print_list(link_node<T>* head){
    auto curr_node = head->next;
    while(curr_node != nullptr){
        cout<<curr_node->data<<" ";
        curr_node = curr_node->next;
    }
    cout<<endl;
}
```

è¯¥å‡½æ•°å°†ä¾æ¬¡æ‰“å°å¤´èŠ‚ç‚¹æŒ‡é’ˆ head æ‰€æŒ‡å•é“¾è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

ä¿®æ”¹ main å‡½æ•°ï¼š

```c++{class="line-numbers"}
int main() {
    cout<<"å•é“¾è¡¨å®éªŒ"<<endl;
    auto head = new link_node<int>(0, nullptr);
    auto p1 = insert_after(head, 1);
    cout<<"p1 æ‰€æŒ‡å‘çš„å…ƒç´ ä¸ºï¼š"<<p1->data<<endl;
    
    insert_after(head, 2);
    insert_after(p1, 3);
    
    cout<<"è¡¨ä¸­å…ƒç´ ä¸ºï¼š";
    print_list(head);
    return 0;
}
```

ç¼–è¯‘è¿è¡Œï¼Œåº”èƒ½å¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š
>å•é“¾è¡¨å®éªŒ
p1 æ‰€æŒ‡å‘çš„å…ƒç´ ä¸ºï¼š1
è¡¨ä¸­å…ƒç´ ä¸ºï¼š2 1 3

ğŸ¥³å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

```c++{class="line-numbers"}
template<class T>
void delete_after(link_node<T>* node){
    if(node->next != nullptr){
        auto deleted_node = node->next;
        node->next = node->next->next;
        delete deleted_node;
    }
}
```

è¯¥å‡½æ•°åˆ é™¤ node èŠ‚ç‚¹çš„åç»­èŠ‚ç‚¹ã€‚

ä¿®æ”¹ main å‡½æ•°ï¼š

```c++{class="line-numbers"}
int main() {
    cout<<"å•é“¾è¡¨å®éªŒ"<<endl;
    auto head = new link_node<int>(0, nullptr);
    auto p1 = insert_after(head, 1);
    cout<<"p1 æ‰€æŒ‡å‘çš„å…ƒç´ ä¸ºï¼š"<<p1->data<<endl;
    
    insert_after(head, 2);
    insert_after(p1, 3);
    
    cout<<"è¡¨ä¸­å…ƒç´ ä¸ºï¼š";
    print_list(head);
    
    delete_after(p1);
    
    cout<<"åˆ é™¤p1åè¡¨ä¸­å…ƒç´ ä¸ºï¼š";
    print_list(head);
    return 0;
}
```

ç¼–è¯‘è¿è¡Œï¼Œåº”èƒ½å¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š
>å•é“¾è¡¨å®éªŒ
p1 æ‰€æŒ‡å‘çš„å…ƒç´ ä¸ºï¼š1
è¡¨ä¸­å…ƒç´ ä¸ºï¼š2 1 3
åˆ é™¤p1åè¡¨ä¸­å…ƒç´ ä¸ºï¼š2 1

è®°å¾—ï¼Œå•é“¾è¡¨åœ¨ä½¿ç”¨å®Œæ¯•ä¹‹åå¿…é¡»åˆ é™¤æ•´è¡¨é‡Šæ”¾å†…å­˜ã€‚
æ·»åŠ  destroy_list å‡½æ•°ï¼š

```c++{class="line-numbers"}
template<class T>
void destroy_list(link_node<T>* head){
    while(head->next != nullptr){
        delete_after(head);
    }
    delete head;
}
```

åœ¨ main å‡½æ•°æœ«å°¾æ·»åŠ åˆ é™¤é“¾è¡¨è¯­å¥ï¼š

```c++{class="line-numbers"}
int main() {
    cout<<"å•é“¾è¡¨å®éªŒ"<<endl;
    auto head = new link_node<int>(0, nullptr);
    auto p1 = insert_after(head, 1);
    cout<<"p1 æ‰€æŒ‡å‘çš„å…ƒç´ ä¸ºï¼š"<<p1->data<<endl;
    
    insert_after(head, 2);
    insert_after(p1, 3);
    
    cout<<"è¡¨ä¸­å…ƒç´ ä¸ºï¼š";
    print_list(head);
    
    delete_after(p1);
    
    cout<<"åˆ é™¤p1åè¡¨ä¸­å…ƒç´ ä¸ºï¼š";
    print_list(head);
    destroy_list(head);
    return 0;
}
```

ç¼–è¯‘è¿è¡Œåï¼Œè¾“å‡ºä¸ä¸Šä¸€æ¬¡ç›¸åŒã€‚

ğŸ¥³å¦‚æœä»¥ä¸Šæ“ä½œéƒ½ä¸€åˆ‡é¡ºåˆ©ï¼Œä½ å·²æŒæ¡å¸¦å¤´èŠ‚ç‚¹å•é“¾è¡¨çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚

>**æ€è€ƒï¼š** å¦‚ä½•åˆ¤æ–­ç¨‹åºæ˜¯å¦æœ‰å†…å­˜æ³„æ¼ï¼Ÿ

## 2 å•é“¾è¡¨æ•°æ®æ“ä½œæŒ‘æˆ˜

ä»æ–‡ä»¶ link_list_exp.txt ä¸­è¯»å–å­—ç¬¦ä¸²å…ƒç´ ï¼Œå¹¶æŒ‰ç…§åŸé¡ºåºå­˜å‚¨åˆ°ä¸€ä¸ªå•é“¾è¡¨ä¸­ï¼Œè¡¨å¤´æŒ‡é’ˆä¸º headã€‚

ä½¿ç”¨ print_list å‡½æ•°æ‰“å°æ­¤å•é“¾è¡¨ã€‚

delete_len_of_3 å‡½æ•°çš„åŠŸèƒ½ä¸ºåˆ é™¤ head æ‰€æŒ‡å•é“¾è¡¨ä¸­æ‰€æœ‰å­—ç¬¦ä¸²é•¿åº¦ä¸º3çš„æ•°æ®å…ƒç´ ã€‚è¯·è¡¥å…¨è¿™ä¸ªå‡½æ•°ã€‚

```c++{class="line-numbers"}
void delete_len_of_3(link_node<string>* head){

}
```

å¯¹ head æ‰€æŒ‡å•é“¾è¡¨æ‰§è¡Œå‡½æ•° delete_len_of_3ï¼Œå¹¶ä½¿ç”¨ print_list å‡½æ•°æ‰“å°å•é“¾è¡¨ã€‚

>**æ³¨æ„ï¼š**
æƒ³è¦ä½¿ç”¨å¦‚ä¸‹è¯­å¥æ’å…¥cå­—ç¬¦ä¸²åˆ°å•é“¾è¡¨ä¸­æ˜¯ä¸å¯ä»¥çš„å“¦ï¼
>
>```c++{class="line-numbers"}
>auto head = new link_node<string>("", nullptr);
>insert_after(head, "aaa");
>```
>
>è¯·æ€è€ƒä¸ºä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•è§£å†³ã€‚

reverse å‡½æ•°çš„åŠŸèƒ½æ˜¯å°† head æ‰€æŒ‡å•é“¾è¡¨ä¸­çš„å…ƒç´ è¿›è¡Œé€†åºæ’åˆ—ã€‚
ä¾‹å¦‚ï¼Œå¦‚æœè¡¨ä¸­å…ƒç´ ä¸º \{a,b,c\}ï¼Œåˆ™å‡½æ•°æ‰§è¡Œä¹‹åå°†å˜ä¸º \{c,b,a\}ã€‚
è¯·è¡¥å…¨è¿™ä¸ªå‡½æ•°ã€‚

```c++{class="line-numbers"}
template<class T>
void reverse(link_node<T>* head){

}
```

å¯¹ head æ‰€æŒ‡å•é“¾è¡¨æ‰§è¡Œå‡½æ•° reverseï¼Œå¹¶ä½¿ç”¨ print_list å‡½æ•°æ‰“å°å•é“¾è¡¨ã€‚

## 3 å®ç°ç”¨äºæ¨¡æ‹Ÿ std::list ç±»çš„ simList

æ–°å»ºå¤´æ–‡ä»¶ simList.h å¹¶è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
#ifndef simList_h
#define simList_h

template <class T>
class simList {
private:
    struct node{ //åŒé“¾è¡¨èŠ‚ç‚¹
        T data;
        node *prev, *next;
        node(T d, node *p, node *n):data(d), prev(p), next(n){};
    };
    int m_size;
    node *m_head;
    node *m_tail;
public:
    class iterator{ //åŒé“¾è¡¨è¿­ä»£å™¨
        friend class simList<T>;
    private:
        node *m_current;
        iterator(node *p):m_current(p){};
    public:
        T& get_data();    //è·å–å½“å‰è¿­ä»£å™¨æ‰€æŒ‡èŠ‚ç‚¹ä¸­çš„å…ƒç´ 
        iterator next();  //è·å–å½“å‰è¿­ä»£å™¨æ‰€æŒ‡èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹è¿­ä»£å™¨
        iterator prev();  //è·å–å½“å‰è¿­ä»£å™¨æ‰€æŒ‡èŠ‚ç‚¹çš„å‰åºèŠ‚ç‚¹è¿­ä»£å™¨
        bool operator!=(iterator itr);
    };
    simList();
    ~simList();  //æš‚æ—¶æ³¨é‡Šæ‰æ­¤è¡Œ
    iterator begin();                       //è·å–ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨
    iterator end();                         //è·å–å°¾èŠ‚ç‚¹è¿­ä»£å™¨
    iterator insert(iterator itr, T item);  //åœ¨è¿­ä»£å™¨iträ½ç½®ä¹‹å‰æ’å…¥item
    iterator erase(iterator itr);           //åˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„èŠ‚ç‚¹
    int size(){return m_size;}              //è·å–å…ƒç´ ä¸ªæ•°
    void push_back(T item);           //åœ¨Listå°¾éƒ¨æ·»åŠ æ•°æ®å…ƒç´ item
};

#endif /* simList_h */
```

>**æ³¨æ„ï¼š** 
åç»­åœ¨ simList.h æ–‡ä»¶ä¸­æ·»åŠ çš„å†…å®¹éƒ½å¿…é¡»åœ¨æœ€åä¸€è¡Œ #endif çš„å‰é¢ã€‚

### simList æ„é€ å‡½æ•°

åœ¨ simList.h ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
simList<T>::simList() {
    m_size = 0;
    m_head = new node(T(), nullptr, nullptr);
    m_tail = new node(T(), nullptr, nullptr);
    m_head->next = m_tail;
    m_tail->prev = m_head;
}
```

åœ¨ main.cpp æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹ä»£ç 

```c++{class="line-numbers"}
#include <iostream>
#include "simList.h"
using namespace std;
int main(){
    simList<int> a;
    cout<<"æµ‹è¯•simListï¼š"<<endl;
    return 0;
}
```

ä¸ºäº†èƒ½å¤Ÿè®©ç¨‹åºç¼–è¯‘è¿è¡Œï¼Œæˆ‘ä»¬å…ˆæ”¾ä¸€ä¸ªç©ºçš„ææ„å‡½æ•°åœ¨ simList.h ä¸­ï¼š

```c++{class="line-numbers"}
template <class T>
simList<T>::~simList(){

}
```

å¦‚æœèƒ½å¤Ÿæ­£ç¡®ç¼–è¯‘è¿è¡Œï¼Œåˆ™è¯´æ˜ simList ç»“æ„å£°æ˜ä»¥åŠæ„é€ å‡½æ•°ç¼–å†™æ­£ç¡®ã€‚
ğŸ¥³å¯ä»¥ç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

### è·å–é“¾è¡¨å¤´ä¸å°¾èŠ‚ç‚¹

åœ¨ simList.h ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
typename simList<T>::iterator simList<T>::begin() {
    return simList<T>::iterator(m_head->next);
}

template <class T>
typename simList<T>::iterator simList<T>::end() {
    return simList<T>::iterator(m_tail);
}
```

è¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«è¿”å›é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼ˆbegin()ï¼‰å’Œå°¾èŠ‚ç‚¹ï¼ˆend()ï¼‰ã€‚
æˆ‘ä»¬æš‚æ—¶ä¸å¯¹å®ƒä»¬è¿›è¡Œæµ‹è¯•ï¼Œåœ¨å®Œæˆæ’å…¥å‡½æ•°åä¸€å¹¶å¯¹å®ƒä»¬ä¸€èµ·è¿›è¡Œæµ‹è¯•ã€‚

### æ’å…¥å…ƒç´ å‡½æ•°

åœ¨ simList.h ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
typename simList<T>::iterator simList<T>::insert(iterator itr, T item) {
    node *p = itr.m_current;
    node *newNode = new node(item, p->prev, p);
    p->prev->next = newNode;
    p->prev = p->prev->next;
    ++m_size;
    return iterator(p->prev);
}
```

ä¿®æ”¹ main å‡½æ•°ä¸ºï¼š

```c++{class="line-numbers"}
int main(){
    simList<int> a;
    cout<<"æµ‹è¯•simListï¼š"<<endl;
    a.insert(a.begin(), 1);
    a.insert(a.end(), 2);

    cout<<"è¡¨ä¸­å…ƒç´ ä¸ªæ•°ï¼š"<<a.size()<<endl;
    return 0;
}
```

ä¸Šè¿°ä»£ç åœ¨é“¾è¡¨å¤´æ’å…¥1ï¼Œé“¾è¡¨å°¾æ’å…¥2ã€‚
ç¼–è¯‘è¿è¡Œååº”æœ‰å¦‚ä¸‹è¾“å‡ºï¼š
>æµ‹è¯•simListï¼š
è¡¨ä¸­å…ƒç´ ä¸ªæ•°ï¼š2

ğŸ¥³å¦‚æœèƒ½å¤Ÿæ­£ç¡®ç¼–è¯‘è¿è¡Œï¼Œå¯ä»¥ç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

### å®Œå–„è¿­ä»£å™¨çš„æˆå‘˜å‡½æ•°

#### å‰åºè¿­ä»£å™¨

åœ¨ simList.h ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
typename simList<T>::iterator simList<T>::iterator::prev() {
    return simList<T>::iterator(m_current->prev);
}
```

prev å‡½æ•°è·å–è¿­ä»£å™¨æ‰€æŒ‡èŠ‚ç‚¹çš„å‰åºèŠ‚ç‚¹çš„è¿­ä»£å™¨ã€‚

#### åç»­è¿­ä»£å™¨

ç»§ç»­åœ¨ simList.h ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
typename simList<T>::iterator simList<T>::iterator::next() {
    return simList<T>::iterator(m_current->next);
}
```

next å‡½æ•°è·å–è¿­ä»£å™¨æŒ‡é’ˆæ‰€æŒ‡èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹çš„è¿­ä»£å™¨ã€‚

#### è¿­ä»£å™¨ä¸ç­‰åˆ¤æ–­

ç»§ç»­åœ¨ simList.h ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
bool simList<T>::iterator::operator!=(iterator itr) {
    return m_current != itr.m_current;
}
```

è¿™é‡Œé‡è½½äº† != æ“ä½œç¬¦ï¼Œç”¨äºåˆ¤æ–­ä¸¤ä¸ªè¿­ä»£å™¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚

#### è·å–è¿­ä»£å™¨æ‰€æŒ‡èŠ‚ç‚¹å…ƒç´ 

ç»§ç»­åœ¨ simList.h ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
T& simList<T>::iterator::get_data() {
    return m_current->data;
}
```

get_data å‡½æ•°è·å–è¿­ä»£å™¨æ‰€æŒ‡èŠ‚ç‚¹ä¸­å­˜å‚¨çš„æ•°æ®å…ƒç´ ã€‚

ä¿®æ”¹ main å‡½æ•°ä¸ºï¼š

```c++{class="line-numbers"}
int main(){
    simList<int> a;
    cout<<"æµ‹è¯•simListï¼š"<<endl;
    a.insert(a.begin(), 1);
    a.insert(a.end(), 2);
    a.insert(a.end(), 3);

    cout<<"è¡¨ä¸­å…ƒç´ ä¸ªæ•°ï¼š"<<a.size()<<endl;

    cout<<"ä»å¤´åˆ°å°¾ä¾æ¬¡æ‰“å°è¡¨ä¸­å…ƒç´ ï¼š";
    for(auto iter=a.begin(); iter != a.end(); iter=iter.next()){
        cout<<iter.get_data()<<" ";
    }
    cout<<endl;
    
    cout<<"ä»å°¾åˆ°å¤´ä¾æ¬¡æ‰“å°è¡¨ä¸­å…ƒç´ ï¼š";
    auto iter=a.end().prev();
    while(iter != a.begin()){
        cout<<iter.get_data()<<" ";
        iter=iter.prev();
    }
    cout<<iter.get_data()<<endl;
    return 0;
}
```

ç¼–è¯‘è¿è¡Œååº”æœ‰å¦‚ä¸‹è¾“å‡ºï¼š
>æµ‹è¯•simListï¼š
è¡¨ä¸­å…ƒç´ ä¸ªæ•°ï¼š3
ä»å¤´åˆ°å°¾ä¾æ¬¡æ‰“å°è¡¨ä¸­å…ƒç´ ï¼š1 2 3
ä»å°¾åˆ°å¤´ä¾æ¬¡æ‰“å°è¡¨ä¸­å…ƒç´ ï¼š3 2 1

ğŸ¥³å¦‚æœèƒ½å¤Ÿæ­£ç¡®ç¼–è¯‘è¿è¡Œï¼Œå¯ä»¥ç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

### åˆ é™¤å…ƒç´ 

simList.h ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
typename simList<T>::iterator simList<T>::erase(simList<T>::iterator itr) {
    node *p = itr.m_current;
    iterator re(p->next);
    p->prev->next = p->next;
    p->next->prev = p->prev;
    delete p;
    m_size--;
    return re;
}
```

ä¿®æ”¹ main å‡½æ•°ä¸ºï¼š

```c++{class="line-numbers"}
int main(){
    simList<int> a;
    cout<<"æµ‹è¯•simListï¼š"<<endl;
    a.insert(a.begin(), 1);
    a.insert(a.end(), 2);
    auto p = a.insert(a.end(), 3); //ä¿®æ”¹æ­¤è¡Œ
    
    a.insert(a.end(), 4);
    a.erase(p);

    cout<<"è¡¨ä¸­å…ƒç´ ä¸ªæ•°ï¼š"<<a.size()<<endl;

    cout<<"ä»å¤´åˆ°å°¾ä¾æ¬¡æ‰“å°è¡¨ä¸­å…ƒç´ ï¼š";
    for(auto iter=a.begin(); iter != a.end(); iter=iter.next()){
        cout<<iter.get_data()<<" ";
    }
    cout<<endl;
    
    cout<<"ä»å°¾åˆ°å¤´ä¾æ¬¡æ‰“å°è¡¨ä¸­å…ƒç´ ï¼š";
    auto iter=a.end().prev();
    while(iter != a.begin()){
        cout<<iter.get_data()<<" ";
        iter=iter.prev();
    }
    cout<<iter.get_data()<<endl;
    return 0;
}
```

ç¼–è¯‘è¿è¡Œåï¼Œåº”æœ‰å¦‚ä¸‹è¾“å‡ºï¼š
>æµ‹è¯•simListï¼š
è¡¨ä¸­å…ƒç´ ä¸ªæ•°ï¼š3
ä»å¤´åˆ°å°¾ä¾æ¬¡æ‰“å°è¡¨ä¸­å…ƒç´ ï¼š1 2 4
ä»å°¾åˆ°å¤´ä¾æ¬¡æ‰“å°è¡¨ä¸­å…ƒç´ ï¼š4 2 1

ğŸ¥³å¦‚æœèƒ½å¤Ÿæ­£ç¡®ç¼–è¯‘è¿è¡Œï¼Œå¯ä»¥ç»§ç»­ä¸‹é¢çš„æ“ä½œã€‚

### simList ææ„å‡½æ•°

ç”±äº simList ç±»ä¸­å¤§é‡ä½¿ç”¨äº†newå…³é”®å­—ç”³è¯·å†…å­˜ã€‚æ‰€ä»¥ä¸€å®šè¦æ‰‹åŠ¨ç¼–å†™ææ„å‡½æ•°å°†æ‰€æœ‰ç”³è¯·çš„å†…å­˜å½’è¿˜ç»™ç³»ç»Ÿã€‚

ä¿®æ”¹ ~simList å‡½æ•°ä¸ºï¼š

```c++{class="line-numbers"}
template <class T>
simList<T>::~simList(){
    while(m_size > 0){    //ä¾æ¬¡åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
        erase(begin());
    }
    delete m_head;
    delete m_tail;
}
```

åœ¨ main å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å£°æ˜çš„æ˜¯ä¸€ä¸ª simList å¯¹è±¡ï¼Œå› æ­¤ææ„å‡½æ•°æ˜¯è‡ªåŠ¨è¿è¡Œçš„ï¼Œæ‰€ä»¥éœ€è¦å¯¹ main å‡½æ•°è¿›è¡Œä¿®æ”¹ã€‚

### æ›´æ–¹ä¾¿çš„å°¾æ’å…¥å‡½æ•°

simList.h ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

```c++{class="line-numbers"}
template <class T>
void simList<T>::push_back(T item){
    insert(end(), item);
}
```

push_back å‡½æ•°å°†æ•°æ®ç›´æ¥æ’å…¥é“¾è¡¨å°¾éƒ¨ã€‚
è¯·è‡ªè¡Œä¿®æ”¹ main å‡½æ•°æµ‹è¯•æ­¤å‡½æ•°æ˜¯å¦å·¥ä½œæ­£ç¡®ã€‚

è‡³æ­¤ï¼ŒsimListçš„å®ç°å…¨éƒ¨å®Œæˆï¼
ğŸ¥³ğŸ‰

## 4 simList çš„ä½¿ç”¨æŒ‘æˆ˜

å°†æ–‡ä»¶ simList_exp.txt ä¸­çš„æ•°æ®æŒ‰é¡ºåºè¯»å…¥åˆ°ä¸€ä¸ª simList\<string\> ä¸­ã€‚

simList_exp.txt æ–‡ä»¶çš„ç¬¬ä¸€è¡Œä¸ºå…ƒç´ ä¸ªæ•°ï¼Œä¹‹åçš„æ¯ä¸€è¡Œéƒ½ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å…ƒç´ ï¼Œå…±500000ä¸ªå…ƒç´ ã€‚
simList_exp.txt çš„å‰å‡ è¡Œå¦‚ä¸‹ï¼š

```{class="line-numbers"}
500000
Vz
WCthO
TygR
HWNCzDp
bIKRCE
ChaK
OkZltQD
â€¦â€¦
```

åˆ é™¤ simList ä¸­æ‰€æœ‰é•¿åº¦å°ç­‰äº3çš„å­—ç¬¦ä¸²å…ƒç´ ã€‚
è¾“å‡ºå½“å‰è¡¨ä¸­å…ƒç´ ä¸ªæ•°ã€‚

>å‚è€ƒç­”æ¡ˆï¼š
389036

å°†è‡ªå·±çš„åå­—æ’å…¥åˆ°ç¬¬ 212202 ä½ã€‚
è¾“å‡ºä»ç¬¬ 212200 ä½åˆ° 212210 ä½çš„æ‰€æœ‰å…ƒç´ ã€‚

>å‚è€ƒç­”æ¡ˆï¼š
HCOTJCpQQ VZqfAEko å¼ ä¸‰ aYGWgzm OCTbwGOmR FOCVdruJm UcQa EMGGdmTj uHPXbUahK KaFCnlVFLH uQPIIwOk

## 5 std::list çš„ä½¿ç”¨

ä½¿ç”¨ C++ æ ‡å‡†æ¨¡æ¿åº“ä¸­çš„ std::list ç±»å°†å®éªŒ4çš„æ“ä½œé‡æ–°å®ç°ä¸€éã€‚
